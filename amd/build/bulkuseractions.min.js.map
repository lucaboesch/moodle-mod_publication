{"version":3,"file":"bulkuseractions.min.js","sources":["../src/bulkuseractions.js"],"sourcesContent":["// This file is part of mod_publication for Moodle - http://moodle.org/\n//\n// It is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// It is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * JS to enable/disable Go button and dropdown of bulk actions in allfilesform\n * based on the selection of users via the checkboxes from the allfilestable.\n *\n * @module    mod_publication/bulkuseractions\n * @author    Clemens Marx\n * @copyright 2025 Academic Moodle Cooperation {@link http://www.academic-moodle-cooperation.org}\n * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\ndefine(['jquery'], function($) {\n    var BulkUserActions = {};\n    BulkUserActions.init = function() {\n        /**\n         * Enable/disable the Go button and dropdown based on selection of users.\n         */\n        function updateWithSelectControls() {\n            var anyChecked = $('.userselection:checked').length > 0;\n            $('#withselect-go').prop('disabled', !anyChecked);\n            $('#withselect-action').prop('disabled', !anyChecked);\n        }\n        // Listen for changes on checkboxes.\n        $(document).on('change', '.userselection', updateWithSelectControls);\n        // Also run on page load.\n        $(updateWithSelectControls);\n        // If select all/none checkbox clicked, update.\n        $(document).on('click', '#selectallnone', function() {\n            var checked = $(this).prop('checked');\n            $('.userselection').prop('checked', checked);\n            updateWithSelectControls();\n        });\n    };\n    return BulkUserActions;\n});\n"],"names":["define","$","BulkUserActions","updateWithSelectControls","anyChecked","length","prop","document","on","checked","this"],"mappings":";;;;;;;;;AAwBAA,yCAAO,CAAC,WAAW,SAASC,OACpBC,gBAAkB,CACtBA,KAAuB,oBAIVC,+BACDC,WAAaH,EAAE,0BAA0BI,OAAS,EACtDJ,EAAE,kBAAkBK,KAAK,YAAaF,YACtCH,EAAE,sBAAsBK,KAAK,YAAaF,YAG9CH,EAAEM,UAAUC,GAAG,SAAU,iBAAkBL,0BAE3CF,EAAEE,0BAEFF,EAAEM,UAAUC,GAAG,QAAS,kBAAkB,eAClCC,QAAUR,EAAES,MAAMJ,KAAK,WAC3BL,EAAE,kBAAkBK,KAAK,UAAWG,SACpCN,uCAGDD"}